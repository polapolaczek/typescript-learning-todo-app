(this["webpackJsonptypescript-learning-todo-app"]=this["webpackJsonptypescript-learning-todo-app"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(6),c=n.n(a),u=n(1),l=function(e){var t=Object(o.createContext)(void 0);return[function(){var n=Object(o.useContext)(t);if(!n)throw new Error("".concat(e," used outside of its Provider"));return n},t]},i=l("AddTodoContext"),d=Object(u.a)(i,2),m=d[0],s=d[1],f=n(7),v=function(e){var t=Object(o.useState)(""),n=Object(u.a)(t,2),r=n[0],a=n[1],c=Object(o.useCallback)((function(e){return a(e.target.value)}),[]),l=Object(o.useCallback)((function(t){t.preventDefault(),a(""),e(r,Object(f.uniqueId)())}),[r,e]);return{todoInput:r,handleTodoChange:c,handleTodoSubmit:l}},b=function(){var e=m(),t=e.todoInput,n=e.handleTodoChange;return r.a.createElement("input",{type:"text",value:t,onChange:n})},p=function(e){return r.a.createElement("button",e,e.text?e.text:e.children)},E=function(e){return r.a.createElement(p,Object.assign({type:"submit"},e))},T=function(e){var t=e.children,n=e.onAdd,o=v(n),a=o.todoInput,c=o.handleTodoChange,u=o.handleTodoSubmit;return r.a.createElement(s.Provider,{value:{todoInput:a,handleTodoChange:c}},r.a.createElement("form",{onSubmit:u},t))},h=function(e){var t=e.todos,n=e.children;return r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.id},n(e))})))},j=l("TodoItemContext"),O=Object(u.a)(j,2),g=O[0],C=O[1],x=function(e){var t=g(),n=t.todo.id,o=t.onRemove;return r.a.createElement(p,Object.assign({type:"button",onClick:function(){return o(n)}},e))},D=function(e){var t=g(),n=t.todo,o=n.id,a=n.isDone,c=t.onCompletion,l=Object(u.a)(e.texts,2),i=l[0],d=l[1];return r.a.createElement(p,{type:"button",onClick:function(){return c(o)},text:a?d:i})},k=(n(16),function(){var e=g().todo,t=e.text,n=e.isDone?{className:"done"}:{};return r.a.createElement("span",n,t)}),y=function(e){var t=e.children,n=e.todo,o=e.onRemove,a=e.onCompletion;return r.a.createElement(C.Provider,{value:{todo:n,onRemove:o,onCompletion:a}},r.a.createElement("div",null,t))},I=n(8),S=n(4),R=function(e){return function(t){return e.find((function(e){return e.id===t}))}},A=function(e){var t=[];return e.forEach((function(e){return void 0!==e&&t.push(e)})),t},w=function(){var e=Object(o.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)([]),c=Object(u.a)(a,2),l=c[0],i=c[1],d=Object(o.useMemo)((function(){return n.filter((function(e){return!e.isDone}))}),[n]),m=Object(o.useMemo)((function(){return function(e,t){var n=t.map(R(e));return A(n)}(n,l)}),[n,l]),s=Object(o.useCallback)((function(e,t){return r((function(n){var o={text:e,id:t,isDone:!1};return[].concat(Object(S.a)(n),[o])}))}),[]),f=Object(o.useCallback)((function(e){r((function(t){return n.filter((function(t){return e!==t.id}))}))}),[n]),v=Object(o.useCallback)((function(e){var t=function(t){return t.id===e?Object(I.a)({},t,{isDone:!t.isDone}):t};r((function(e){return e.map(t)})),i((function(t){return t.includes(e)?t.filter((function(t){return e!==t})):[].concat(Object(S.a)(t),[e])}))}),[]);return{todos:n,activeTodos:d,completedTodos:m,completedTodosIds:l,addTodo:s,removeTodo:f,toggleDone:v}},P=l("TodosContext"),M=Object(u.a)(P,2),F=M[0],J=M[1],U=function(e){var t=w(),n=t.todos,o=t.activeTodos,a=t.completedTodos,c=t.addTodo,u=t.removeTodo,l=t.toggleDone;return r.a.createElement(J.Provider,Object.assign({value:{todos:n,activeTodos:o,completedTodos:a,addTodo:c,removeTodo:u,toggleDone:l}},e))},q=function(){var e=F(),t=e.activeTodos,n=e.completedTodos,o=e.addTodo,a=e.removeTodo,c=e.toggleDone;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Todos"),r.a.createElement(T,{onAdd:o},r.a.createElement(b,null),r.a.createElement(E,null,"Add")),t.length?r.a.createElement("h3",null,"Active"):null,r.a.createElement(h,{todos:t},(function(e){return r.a.createElement(y,{todo:e,onRemove:a,onCompletion:c},r.a.createElement(k,null),r.a.createElement(x,null,"Remove"),r.a.createElement(D,{texts:["Done","Undo"]}))})),n.length?r.a.createElement("h3",null,"Completed"):null,r.a.createElement(h,{todos:n},(function(e){return r.a.createElement(y,{todo:e,onRemove:a,onCompletion:c},r.a.createElement(D,{texts:["Done","Undo"]}),r.a.createElement(k,null))})))},B=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null,r.a.createElement(q,null)))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root"))},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.c90e070e.chunk.js.map